<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login || Guadalupe Gourmet</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="w-screen h-screen bg-gray-100">
 
    <section class="flex flex-col items-center justify-center ">
        <form id="formSignIn" class="p-12 mt-20 text-center rounded-lg shadow-lg ">
          <picture>
            <img src="../../assets/guadalupe2.jpg" class="w-24 mx-auto" alt="img">
          </picture>
          <h1 class="my-5 text-xl">Iniciar sesión</h1>
          <label class="block my-2">
            <select class="block w-full p-4 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500" id="rolUsuario">
              <option selected>Seleccione un usuario</option>
              <option value="1">Administrador</option>
              <option value="2">Jefe cocina</option>
            </select>
          </label>
          <label class="block my-2">
            <input type="password" placeholder="contraseña" id="password" class="block w-full p-4 text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500" required />
          </label>
          <a class="block text-blue-600">¿Olvidaste la contraseña?</a>
          <button class="w-32 p-2 my-2 text-black bg-red-700 rounded-lg text-medium">Ingresar</button>
        </form>
    </section> 
    <script defer> 
      const users = [
        { email: 'administrador', password: '123', role:1 },
        { email: 'jefecocina', password: '456', role:2 },
      ];
      let role = 0
      
      const formSignIn = document.getElementById("formSignIn")
      const rolUsuario = document.getElementById("rolUsuario")

      rolUsuario.addEventListener("change",(e)=>{
        role = parseInt(e.target.value)
      })

      formSignIn.addEventListener("submit", (e) => {
        e.preventDefault()
        // const user = formSignIn["user"].value
        const password = formSignIn["password"].value
      
        const verify = users.find((element) => element.role === role && element.password === password)
      
        if (verify.role === 1) {
          window.location = './menuadmin.html';
        } else if(verify.role === 2){
          window.location = './menuJefe.html';
        }
      })
    </script>
</body>
</html>